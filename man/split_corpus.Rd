% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/split_corpus.R
\name{split_corpus}
\alias{split_corpus}
\title{Split Corpus into Train and Test Sets}
\usage{
split_corpus(corpus, prop_test = 0.1, by_source = TRUE, seed = 123)
}
\arguments{
\item{corpus}{Tibble containing at least \code{source} and a text column.}

\item{prop_test}{Numeric in (0,1). Proportion of rows to allocate to the test set (default: 0.1).}

\item{by_source}{Logical. If TRUE, stratifies the split within each source category
(blogs, news, twitter) to maintain source distribution. Default: TRUE.}

\item{seed}{Integer. Random seed for reproducibility (default: 123).}
}
\value{
A list with two elements:
  \describe{
    \item{train}{Tibble. Training set (1 - prop_test of rows)}
    \item{test}{Tibble. Test set (prop_test of rows)}
  }
}
\description{
Splits a corpus into training and test sets, with optional stratification by source.
This is essential for evaluating language models on held-out data.
}
\details{
When \code{by_source = TRUE}, the function ensures that each source category
contributes proportionally to both train and test sets. This prevents bias
when sources have different characteristics (e.g., Twitter vs. news articles).

The split preserves all columns from the original corpus.
}
\examples{
\dontrun{
# Basic 90/10 train/test split
corpus <- load_corpus("en_US")
splits <- split_corpus(corpus, prop_test = 0.1)
train_data <- splits$train
test_data <- splits$test

# Without stratification
splits_simple <- split_corpus(corpus, prop_test = 0.2, by_source = FALSE)

# Check distribution
table(splits$train$source)  # Should be proportional
table(splits$test$source)
}

}
